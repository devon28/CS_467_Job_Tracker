<!-- jobs.html -->
{% extends "base.html" %}

{% block content %}
    <div class="table-container">
    <h2 class="page-header">Jobs</h2>

    <form class="data-form" style="display: none;">
        <input type="text" id="job-input" placeholder="Enter a job">
        <button type="submit">Save</button>
    </form>

    <table class="data-table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Salary</th>
                <th>Skills</th>
                <th>Start Date</th>
                <th>Contact</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Software Developer</td>
                <td>$80,000</td>
                <td>Python, JavaScript, HTML, CSS</td>
                <td>2022-01-01</td>
                <td>John Doe</td>
                <td><button class="edit-button" onclick="navigateToEditJobsPage()">Edit</button></td>
                <td><button class="delete-button" onclick="confirmDelete()">Delete</button></td>
            </tr>
            <tr>
                <td>Data Analyst</td>
                <td>$60,000</td>
                <td>SQL, Excel, Statistics</td>
                <td>2022-02-15</td>
                <td>Jane Smith</td>
                <td><button class="edit-button" onclick="navigateToEditJobsPage()">Edit</button></td>
                <td><button class="delete-button" onclick="confirmDelete()">Delete</button></td>
            </tr>
        <!-- Add more job rows here -->
        </tbody>
    </table>

    <div class="add-container">
        <h3>Add Job</h3>
        <button class="add-data-button" onclick="addNewJob()">+</button>
    </div>
    </div>

    <script>
        function navigateToEditJobsPage() {
            // JavaScript code to navigate to the edit_jobs page
            window.location.href = "{{ url_for('edit_jobs') }}";
        }


        function confirmDelete() {
            // Show a confirmation dialog
            const result = confirm("Are you sure you want to delete this job entry?");

            // Check the user's choice
            if (result) {
                // The user clicked "OK" (Yes), you can perform the delete action here
                // For example: call a delete function or perform an AJAX request to the server
                // ... Add your delete logic here ...
                console.log("Delete confirmed.");
                window.location.href = "/jobs";
            } else {
                // The user clicked "Cancel" (No), do nothing or handle as needed
                console.log("Delete canceled.");
            }
        }

        function addNewJob() {
            // JavaScript code to add a new row with text boxes to the table
            const newRow = document.createElement("tr");
            newRow.innerHTML = `
                <td><input type="text" class="input-box" placeholder="Title"></td>
                <td><input type="text" class="input-box" placeholder="Salary"></td>
                <td><input type="text" class="input-box" placeholder="Skills"></td>
                <td><input type="text" class="input-box" placeholder="Start Date"></td>
                <td><input type="text" class="input-box" placeholder="Contact"></td>
                <td><button class="save-button" onclick="refreshPage()">Save</button></td>
                <td><button class="cancel-button" onclick="refreshPage()">Cancel</button></td>
            `;
            document.querySelector("tbody").appendChild(newRow);
        }

        function refreshPage() {
            window.location.href = "{{ url_for('jobs') }}";
        }
    </script>


{% endblock %}


